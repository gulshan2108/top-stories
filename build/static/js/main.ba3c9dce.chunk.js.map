{"version":3,"sources":["images/2.jpg","Config.js","components/Stories.js","App.js","index.js"],"names":["Config","dateTimeFormat","Stories","useState","topStoriesId","commentList","loading","storyId","state","setState","useEffect","getTopStory","fetch","then","response","json","data","slice","Math","max","length","catch","error","console","showStory","id","a","time","moment","format","kids","dataLength","i","getComments","storyDetails","push","handleClickActionButton","log","className","Container","style","marginBottom","Button","variant","size","disabled","commentLoading","onClick","Row","Col","xs","md","title","Image","src","userimg","roundedCircle","height","by","url","marginTop","window","open","Accordion","defaultActiveKey","score","Toggle","as","eventKey","descendants","Collapse","Card","Body","filter","map","comment","key","text","App","ReactDOM","render","document","getElementById"],"mappings":"uSAAe,MAA0B,8B,iBCG1BA,EAHA,CACXC,eAAgB,qB,OC4NLC,EApNC,WAAO,IAAD,oBAEMC,mBAAS,CAC7BC,aAAa,GACbC,YAAa,GACbC,SAAS,EACTC,SAAS,IANK,mBAEXC,EAFW,KAEJC,EAFI,KASlBC,qBAAU,WACNC,MACF,IAEF,IAAMA,EAAY,WACdC,MAAM,sEACLC,MAAK,SAACC,GAAD,OAAaA,EAASC,UAC3BF,MAAK,SAACG,GACH,IAAIZ,EAAeY,EAAKC,MAAMC,KAAKC,IAAIH,EAAKI,OAAS,KACrDX,EAAS,2BACFD,GADC,IAEJJ,eACAG,QAAS,QAGhBc,OAAM,SAACC,GACJC,QAAQD,MAAMA,OAItBZ,qBAAU,YACa,IAAhBF,EAAMD,SACLiB,EAAUhB,EAAMJ,aAAaI,EAAMD,YAEzC,CAACC,EAAMD,UAET,IAAMiB,EAAS,uCAAG,WAAMC,GAAN,SAAAC,EAAA,6DACdjB,EAAS,2BAAID,GAAL,IAAYF,SAAS,KADf,SAERM,MAAM,8CAAD,OAA+Ca,EAA/C,uBACVZ,MAAK,SAACC,GAAD,OAAaA,EAASC,UAC3BF,KAFK,uCAEA,WAAMG,GAAN,iBAAAU,EAAA,yDACFV,EAAKW,KAAOC,IAAOZ,EAAKW,MAAME,OAAO7B,EAAOC,iBACzCe,EAAKc,KAFN,iBAGMC,EAAa,GACdf,EAAKc,KAAKV,OAAO,KAChBW,EAAaf,EAAKc,KAAKV,QAEnBY,EAAE,EAPZ,YAOeA,EAAED,GAPjB,iCAQYE,EAAYjB,EAAKc,KAAKE,IARlC,OAO6BA,IAP7B,uBAWFvB,EAAS,2BACFD,GADC,IAEJF,SAAS,EACT4B,aAAclB,KAdhB,4CAFA,uDAmBLK,OAAM,SAACC,GACJC,QAAQD,MAAMA,MAtBJ,2CAAH,sDA0BTW,EAAW,uCAAC,WAAMR,GAAN,SAAAC,EAAA,6DACdjB,EAAS,2BAAID,GAAL,IAAYF,SAAS,KADf,SAERM,MAAM,8CAAD,OAA+Ca,EAA/C,uBACVZ,MAAK,SAACC,GAAD,OAAaA,EAASC,UAC3BF,MAAK,SAACG,GACH,IAAIX,EAAcG,EAAMH,YACxBW,EAAKW,KAAOC,IAAOZ,EAAKW,MAAME,OAAO7B,EAAOC,gBAC5CI,EAAY8B,KAAKnB,GACjBP,EAAS,2BACFD,GADC,IAEJH,cACAC,SAAS,QAGhBe,OAAM,SAACC,GACJC,QAAQD,MAAMA,MAfJ,2CAAD,sDAyCXc,EAA0B,SAAC7B,GAC7BE,EAAS,2BACFD,GADC,IAEJH,YAAa,GACbE,cAMV,OAFEgB,QAAQc,IAAI,IAAK7B,GAIbA,EAAMF,QACN,qBAAKgC,UAAU,eAAf,wBAGA,sBAAKA,UAAU,YAAf,UACI,oBAAIA,UAAU,eAAd,yDACA,eAACC,EAAA,EAAD,CAAWD,UAAU,aAAaE,MAAO,CAACC,aAAc,IAAxD,UAEQjC,EAAMD,QAAQ,GACd,cAACmC,EAAA,EAAD,CACIC,QAAQ,QACRC,KAAK,KACLC,SAAUrC,EAAMsC,eAChBC,QAAS,kBAAIX,EAAwB5B,EAAMD,QAAQ,IAJvD,kBAUAC,EAAMD,QAAQ,GACd,cAACmC,EAAA,EAAD,CACIC,QAAQ,QACRC,KAAK,KACLC,SAAUrC,EAAMsC,eAChBC,QAAS,kBAAIX,EAAwB5B,EAAMD,QAAQ,IAJvD,qBAWR,eAACgC,EAAA,EAAD,CAAWD,UAAU,aAArB,UACI,cAACU,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CAAKC,GAAI,GAAIC,GAAI,GAAjB,SACI,oBAAIb,UAAU,cAAd,mBAA6B9B,EAAM0B,oBAAnC,aAA6B,EAAoBkB,YAGzD,cAACJ,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,CAAKC,GAAI,GAAIC,GAAI,GAAjB,UACI,sBAAKb,UAAU,YAAf,UACI,qBAAKA,UAAU,WAAf,SACI,cAACe,EAAA,EAAD,CAAOC,IAAKC,EAASC,eAAa,EAACC,OAAO,WAE9C,sBAAKnB,UAAU,YAAf,UACI,mBAAGA,UAAU,cAAb,SAA2B,sCAAI9B,EAAM0B,oBAAV,aAAI,EAAoBwB,OACnD,mBAAGpB,UAAU,OAAb,mBAAqB9B,EAAM0B,oBAA3B,aAAqB,EAAoBP,cAI7C,UAAAnB,EAAM0B,oBAAN,eAAoByB,MACpB,cAACjB,EAAA,EAAD,CACIC,QAAQ,SACRC,KAAK,KACLJ,MAAO,CAACoB,UAAW,IACnBb,QAAS,wBAAIc,OAAOC,KAAP,UAAYtD,EAAM0B,oBAAlB,aAAY,EAAoByB,MAJjD,+BAWZ,cAACpB,EAAA,EAAD,CAAWD,UAAU,aAArB,SACI,cAACU,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CAAKE,GAAI,GAAT,SACI,eAACY,EAAA,EAAD,CAAWC,iBAAiB,IAA5B,UACI,sBAAK1B,UAAU,eAAf,UACI,eAACI,EAAA,EAAD,CACIC,QAAQ,QACRC,KAAK,KAFT,UAII,sBAAMN,UAAU,OAAhB,SAAuB,cAAC,IAAD,MAJ3B,SAKU,sCAAI9B,EAAM0B,oBAAV,aAAI,EAAoB+B,WAElC,eAACF,EAAA,EAAUG,OAAX,CAAkBC,GAAIzB,IAAQC,QAAQ,OAAOyB,SAAS,IAAtD,UACI,sBAAM9B,UAAU,OAAhB,SAAuB,cAAC,IAAD,MAD3B,YAEiB,6BAAI,UAAA9B,EAAM0B,oBAAN,eAAoBJ,MAApB,UAA2BtB,EAAM0B,oBAAjC,iBAA2B,EAAoBJ,YAA/C,aAA2B,EAA0BV,OAAS,OAEnF,eAACsB,EAAA,EAAD,CAAQC,QAAQ,QAAQC,KAAK,KAA7B,yBACgB,sCAAIpC,EAAM0B,oBAAV,aAAI,EAAoBmC,oBAG5C,cAACN,EAAA,EAAUO,SAAX,CAAoBF,SAAS,IAA7B,SACI,cAACG,EAAA,EAAKC,KAAN,CAAWlC,UAAU,MAArB,SAEQ9B,EAAMH,aAAeG,EAAMH,YAAYe,OAAO,GArHnEZ,EAAMH,YAAYoE,QAAO,SAACzC,GAAK,OAAOA,KACrC0C,KAAI,SAACC,EAASC,GAC1B,OACI,sBAAetC,UAAU,cAAzB,UACI,qBAAKA,UAAU,eAAf,SACI,cAACe,EAAA,EAAD,CACIC,IAAKC,EACLC,eAAa,EACblB,UAAU,kBAGlB,sBAAKA,UAAU,gBAAf,UACI,mBAAGA,UAAU,aAAb,gBAA2BqC,QAA3B,IAA2BA,OAA3B,EAA2BA,EAASjB,KACpC,mBAAGpB,UAAU,eAAb,gBAA6BqC,QAA7B,IAA6BA,OAA7B,EAA6BA,EAASE,OACtC,mBAAGvC,UAAU,aAAb,gBAA2BqC,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAShD,YAXlCiD,0BClFXE,MARf,WACI,OACE,qBAAKxC,UAAU,MAAf,SACE,cAAC,EAAD,O,MCARyC,IAASC,OACP,mCACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.ba3c9dce.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/2.4e1103b4.jpg\";","const Config = {\r\n    dateTimeFormat: 'DD/MM/YYYY, h:m A'\r\n}\r\nexport default Config;","// This component holds the story page\r\n\r\nimport { useEffect,useState } from 'react';\r\nimport {Card, Button, Accordion, Container,Row,Image, Col} from 'react-bootstrap';\r\nimport { Chat, Trophy} from 'react-bootstrap-icons';\r\nimport userimg from '../images/2.jpg'\r\nimport moment from 'moment';\r\nimport Config from '../Config';\r\n\r\nconst Stories = () => {\r\n\r\n    const [state, setState]=useState({\r\n        topStoriesId:[], \r\n        commentList: [], \r\n        loading: true,\r\n        storyId: false\r\n    })\r\n\r\n    useEffect(()=>{\r\n        getTopStory()\r\n    },[])\r\n\r\n    const getTopStory=()=>{\r\n        fetch(`https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty`)\r\n        .then((response) =>response.json())\r\n        .then((data) => {\r\n            var topStoriesId = data.slice(Math.max(data.length - 10))\r\n            setState({\r\n                ...state, \r\n                topStoriesId,\r\n                storyId: 0\r\n            })\r\n        })\r\n        .catch((error) => {\r\n            console.error(error);\r\n        });\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(state.storyId!==false){\r\n            showStory(state.topStoriesId[state.storyId])\r\n        }\r\n    },[state.storyId])\r\n\r\n    const showStory = async(id) => {\r\n        setState({...state, loading: true})\r\n        await fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json?print=pretty`)\r\n        .then((response) =>response.json())\r\n        .then(async(data) => {\r\n            data.time = moment(data.time).format(Config.dateTimeFormat)\r\n            if(data.kids){\r\n                var dataLength = 20\r\n                if(data.kids.length<20){\r\n                    dataLength = data.kids.length;\r\n                }\r\n                for(let i=0; i<dataLength; i++){\r\n                    await getComments(data.kids[i])\r\n                }\r\n            }\r\n            setState({\r\n                ...state,\r\n                loading: false,\r\n                storyDetails: data\r\n            })\r\n        })\r\n        .catch((error) => {\r\n            console.error(error);\r\n        });\r\n    }\r\n\r\n    const getComments=async(id)=>{\r\n        setState({...state, loading: true})\r\n        await fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json?print=pretty`)\r\n        .then((response) =>response.json())\r\n        .then((data) => {\r\n            var commentList = state.commentList;\r\n            data.time = moment(data.time).format(Config.dateTimeFormat)\r\n            commentList.push(data)\r\n            setState({\r\n                ...state,\r\n                commentList,\r\n                loading: false\r\n            })\r\n        })\r\n        .catch((error) => {\r\n            console.error(error);\r\n        });\r\n    };\r\n\r\n    const _renderComments = () =>{\r\n        var comments = state.commentList.filter((i)=>{return i})\r\n        return comments.map((comment, key) => {\r\n            return (\r\n                <div key={key} className=\"comment-box\">\r\n                    <div className=\"comment-left\">\r\n                        <Image \r\n                            src={userimg} \r\n                            roundedCircle \r\n                            className=\"comment-pic\" \r\n                        />\r\n                    </div>\r\n                    <div className=\"comment-right\">\r\n                        <p className=\"comment-by\">{comment?.by}</p>\r\n                        <p className=\"comment-text\">{comment?.text}</p>\r\n                        <p className='text-right'>{comment?.time}</p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    const handleClickActionButton = (storyId) => {\r\n        setState({\r\n            ...state,\r\n            commentList: [],\r\n            storyId\r\n        })\r\n    }\r\n  \r\n    console.log(999, state)\r\n\r\n  return (\r\n        \r\n        state.loading ?\r\n        <div className='page-loading'>\r\n            Loading...\r\n        </div> :\r\n        <div className=\"story-div\">\r\n            <h1 className=\"main-heading\">10 great short stories everyone should read</h1>\r\n            <Container className='text-right' style={{marginBottom: 20}}>\r\n                {\r\n                    state.storyId>0 &&\r\n                    <Button \r\n                        variant=\"light\" \r\n                        size=\"sm\"\r\n                        disabled={state.commentLoading}\r\n                        onClick={()=>handleClickActionButton(state.storyId-1)}\r\n                    >\r\n                        Back\r\n                    </Button>\r\n                }\r\n                {\r\n                    state.storyId<9 &&\r\n                    <Button \r\n                        variant=\"light\" \r\n                        size=\"sm\"\r\n                        disabled={state.commentLoading}\r\n                        onClick={()=>handleClickActionButton(state.storyId+1)}\r\n                    >\r\n                        Next\r\n                    </Button>\r\n                }\r\n            </Container>\r\n            \r\n            <Container className=\"box-design\">\r\n                <Row>\r\n                    <Col xs={12} md={12}>\r\n                        <h5 className=\"story-title\">{state.storyDetails?.title}</h5>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col xs={12} md={12}>\r\n                        <div className=\"user-info\">\r\n                            <div className=\"user-pic\">\r\n                                <Image src={userimg} roundedCircle height=\"50px\"/>\r\n                            </div>\r\n                            <div className=\"user-name\">\r\n                                <p className=\"writer-name\"><b>{state.storyDetails?.by}</b></p>\r\n                                <p className=\"date\">{state.storyDetails?.time}</p>\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            state.storyDetails?.url &&\r\n                            <Button \r\n                                variant=\"danger\" \r\n                                size=\"sm\" \r\n                                style={{marginTop: 20}}\r\n                                onClick={()=>window.open(state.storyDetails?.url)}\r\n                            >\r\n                                Read More...\r\n                            </Button>\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n                <Container className=\"box-design\">\r\n                    <Row>\r\n                        <Col md={12}>\r\n                            <Accordion defaultActiveKey=\"0\">\r\n                                <div className=\"comment-head\">\r\n                                    <Button \r\n                                        variant=\"light\" \r\n                                        size=\"sm\"\r\n                                    >\r\n                                        <span className=\"icon\"><Trophy /></span>\r\n                                        Score <b>{state.storyDetails?.score}</b>\r\n                                    </Button>\r\n                                    <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\r\n                                        <span className=\"icon\"><Chat /></span>\r\n                                            Comments <b>{state.storyDetails?.kids ? state.storyDetails?.kids?.length : 0}</b>\r\n                                    </Accordion.Toggle>\r\n                                    <Button variant=\"light\" size=\"sm\">\r\n                                        Descendants <b>{state.storyDetails?.descendants}</b>\r\n                                    </Button>\r\n                                </div>\r\n                                <Accordion.Collapse eventKey=\"1\">\r\n                                    <Card.Body className=\"p-0\">\r\n                                        {\r\n                                            state.commentList && state.commentList.length>0 &&\r\n                                            _renderComments()\r\n                                        }\r\n                                    </Card.Body>\r\n                                </Accordion.Collapse>\r\n                            </Accordion>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </Container>\r\n        </div>\r\n  );\r\n}\r\n\r\nexport default Stories;\r\n","import './App.css';\r\nimport React from 'react';\r\nimport Stories from './components/Stories'\r\nfunction App() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Stories />\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n  <>\r\n    <App />\r\n  </>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}